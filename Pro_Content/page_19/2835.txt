<html><head><meta http-equiv="Pragma" content="no-cache"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="Content-Language" content="en-US"><title>2835 -- Sunzi's Problem</title><link rel=stylesheet href='poj.css' type='text/css'><link rel='shortcut icon' href='poj.ico'><link rel='icon' href='poj.gif' type='image/gif'><script src='poj.js' language='javascript'></script></head><body lang="en-US" leftmargin=5 link=blue alink=blue vlink=blue onkeydown=KeyDown(event)><a name=top></a><TABLE style='BORDER-COLLAPSE: collapse' borderColor=#ffffff width=100% border=1><TBODY><TR><TD align=CENTER colSpan=5><table class=h1 cellpadding=0><tr><td width=25% align=left><img src='images/logo1.jpg' height=100 border=0></td><td colspan=3 bgcolor='#EAEFFD'><table class=h2><tr><td><img border=0 src='images/logo0.gif' width=450 height=90></td><td width=95><img border=0 src='images/logo3.gif' width=95 height=95></td></tr></table></td></tr></table></TD></TR><TR vAlign=top align=CENTER bgColor=#6589d1><TH class=h>Online Judge</TH><TH class=h>Problem Set</TH><TH class=h>Authors</TH><TH class=h>Online Contests</TH><TH class=h>User</TH></TR><TR vAlign=top align=CENTER bgColor='#f1f1fd'><TD class='h' onMouseOver='scbg(this, 1)' onMouseOut='scbg(this, 0)'><A href='bbs'>Web Board</A><BR><A href='./'>Home Page</A><BR><A href='page?id=1000' target=_blank>F.A.Qs</A><BR><a href='chart'>Statistical Charts</a></TD><TD class='h' onMouseOver='scbg(this, 1)' onMouseOut='scbg(this, 0)'><FORM action=gotoproblem method=get><A href='problemlist'>Problems</A><BR><A href='submit'>Submit Problem</A><BR><A href='status'>Online Status</A><BR><font color=blue>Prob.ID:</font><input type=text name=pid size=6><input type=Submit value=Go name=pb1></form></td><TD class='h' onMouseOver='scbg(this,1)' onMouseOut='scbg(this,0)'><form method=GET action=searchuser><a href=register>Register</a><br><a href=modifyuser>Update your info</a><br><a href=userlist>Authors ranklist</a><br><input type=text name=key size=10><input type=Submit value=Search name=B1></form></TD>
<TD class=h onMouseOver='scbg(this,1)' onMouseOut='scbg(this,0)'><font color=#1a5cc8>Current Contest</font><br><a href=pastcontests>Past Contests</a><br><a href=contests>Scheduled Contests</a><br><a href=challenge.html target=_blank><font color=red>Award Contest</font></a></td><TD align=left class=h onMouseOver='scbg(this,1)' onMouseOut='scbg(this,0)'><form method=POST action=login><table><tr><td>User ID:</td><td><input type=text name=user_id1 size=10 style='font-family:monospace'></td></tr><tr><td>Password:</td><td><input type=password name=password1 size=10 style='font-family:monospace'></td></tr></table><input type=Submit value=login name=B1>&nbsp;&nbsp;<a href=register target=_parent>Register</a><input type=hidden name=url value=/problem?id=2835></form></td></TR></TABLE><table border=0 width=100% background=images/table_back.jpg><tr><td>
<div style='position: absolute; right: 10px;'>Language:<select size=1 onChange="window.location.href='problem?id=2835&lang='+this.value+'&change=true'"><option value='default' selected>Default</option></select></div><div class="ptt" lang="en-US">Sunzi's Problem</div>
<div class="plm"><table align="center"><tr><td><b>Time Limit:</b> 1000MS</td><td width="10px"></td><td colspan="3"><b>Memory Limit:</b> 65536K</td></tr><tr><td><b>Total Submissions:</b> 717</td><td width="10px"></td><td><b>Accepted:</b> 90</td><td width="10px"></td><td style="font-weight:bold; color:red;">Special Judge</td></tr></table></div><p class="pst">Description</p><div class="ptx" lang="en-US"><span lang="en-us"><p>In the ancient work <i> Sunzi Suanjing</i> (<i>Master Sun&rsquo;s Mathematical Manual</i>), the problem below was mentioned.</p><blockquote><p>&ldquo;<i>We have a number of things, but we do not know exactly how many. If we count them by threes we have two left over. If we count them by fives we have three left over. If we count them by sevens we have two left over. How many things are there?</i>&rdquo;</p></blockquote><p>Sunzi wrote in his work, &ldquo;<i>The answer is twenty-three.</i>&rdquo;</p><p>In 1592, Dawei Cheng put the solution to the problem as a poem in <i>Suanfa Tongzong</i> (<i>Systematic Treatise on Arithmetic</i>).</p><blockquote><p>&ldquo;<i>Three septuagenarians walking together, &rsquo;tis rare!</i><br>&ldquo;<i>Five plum trees with twenty one branches in flower,</i><br>&ldquo;<i>Seven disciples gathering right by the half-moon,</i><br>&ldquo;<i>One hundred and five taken away, lo the result shall appear!</i>&rdquo;</p></blockquote><p>In modern notation, Sunzi&rsquo;s problem is to find a number <i>x</i> such that</p><p align="center"><i>x</i> &equiv; 2 (mod 3),<br><i>x</i> &equiv; 3 (mod 5),<br><i>x</i> &equiv; 2 (mod 7).</p><p>And Cheng&rsquo;s solution is</p><p align="center"><i>x</i> &equiv; 2 &times; 70 + 3 &times; 21 + 2 &times; 15 &equiv; 233 (mod 105).</p><p>The solution also indicates that if one is given three integers <i>r</i><sub>1</sub>, <i>r</i><sub>2</sub>, <i>r</i><sub>3</sub> and is asked to find a number <i>x</i> such that</p><p align="center"><i>x</i> &equiv; <i>r</i><sub>1</sub> (mod 3),<br><i>x</i> &equiv; <i>r</i><sub>2</sub> (mod 5),<br><i>x</i> &equiv; <i>r</i><sub>3</sub> (mod 7),</p><p>then the answer is</p><p align="center"><i>x</i> &equiv; <i>r</i><sub>1</sub> &times; 70 + <i>r</i><sub>2</sub> &times; 21 + <i>r</i><sub>3</sub> &times; 15 (mod 105).</p><p>For example, for <i>r</i><sub>1</sub> = 1, <i>r</i><sub>2</sub> = 4, <i>r</i><sub>3</sub> = 4, the answer is</p><p align="center"><i>x</i> &equiv; 1 &times; 70 + 4 &times; 21 + 4 &times; 15 &equiv; 214 (mod 105).</p><p>In generalization, given <i>n</i> positive integers <i>a</i><sub>1</sub>, <i>a</i><sub>2</sub>, &hellip;, <i>a<sub>n</sub></i>, the problem is to determine whether there exist <i>n</i>  positive integers <i>b</i><sub>1</sub>, <i>b</i><sub>2</sub>, &hellip;, <i>b<sub>n</sub></i> such that for any positive integer <i>N</i>, let <i>p<sub>i</sub></i> (1 &le; <i>i</i> &le; <i>n</i>) be the remainder of <i>N</i> taken modulo <i>a<sub>i</sub></i> and <i>M</i> = <i>p</i><sub>1</sub> &times; <i>b</i><sub>1</sub> + <i>p</i><sub>2</sub> &times; <i>b</i><sub>2</sub> + &hellip; + <i>p<sub>n</sub></i> &times; <i>b<sub>n</sub></i>, then <i>M</i> &equiv; <i>p<sub>i</sub></i> (mod <i>a<sub>i</sub></i>) for all <i>i</i> (1 &le; <i>i</i> &le; <i>n</i>); and to find a set of values of <i>b</i><sub>1</sub>, <i>b</i><sub>2</sub>, &hellip;, <i>b<sub>n</sub></i> if they exist.</p></span></div><p class="pst">Input</p><div class="ptx" lang="en-US"><span lang="en-us"><p>The input consists of multiple test cases. Each test case is given in one line. In each test case, given first is the integer <i>n</i> (1 &le; <i>n</i> &le; 10), which is followed by <i>a</i><sub>1</sub>, <i>a</i><sub>2</sub>, &hellip;, <i>a<sub>n</sub></i> (<i>a<sub>i</sub></i> &le; 50, 1 &le; <i>i</i> &le; <i>n</i>). The last case, with <i>n</i> = 0, indicates the end of input and should not be processed.</p></span></div><p class="pst">Output</p><div class="ptx" lang="en-US"><span lang="en-us"><p>For each test case, output one line. If the positive integers <i>b</i><sub>1</sub>, <i>b</i><sub>2</sub>, &hellip;, <i>b<sub>n</sub></i>  exist, output them (none of them should be longer than 50 decimal digits) separated by single spaces. If there are multiple answers, output any one. Output &ldquo;NO&rdquo; if they do not exist.</p></span></div><p class="pst">Sample Input</p><pre class="sio">3 3 5 7
0</pre><p class="pst">Sample Output</p><pre class="sio">70 21 15</pre><p class="pst">Hint</p><div class="ptx" lang="en-US"><span lang="en-us"><p>Mind your program&rsquo;s output format since special judge is used.</p></span></div><p class="pst">Source</p><div class="ptx" lang="en-US"><a href="searchproblem?field=source&key=PKU+Local+2006">PKU Local 2006</a>, kicc</div></td></tr></table>
<font color=#333399 size=3><p align="center">
[<a href="submit?problem_id=2835">Submit</a>]&nbsp;&nbsp;
 [<a href="javascript:history.go(-1)">Go Back</a>]&nbsp;&nbsp; [<a href=problemstatus?problem_id=2835>Status</a>]&nbsp;&nbsp; 
[<a href="bbs?problem_id=2835">Discuss</a>]
</font></p>
<p><img height=30 src=images/home.gif width=40 border=0><font size=3><a href=.>Home Page</a> </font>&nbsp;&nbsp;<img height=30 src='images/goback.gif' width=40 border=0><font size=3><a href='javascript:history.go(-1)'>Go Back</a>&nbsp;&nbsp;<img height=30 width=40 border=0 src='images/top.gif'><a href=#top>To top</a></font><br><hr><P align=center style='font-family:Arial, Helvetica, sans-serif'>All Rights Reserved 2003-2013 Ying Fuchen,Xu Pengcheng,Xie Di<br>Any problem, Please <a href=mailto:webmaster@poj.org>Contact Administrator</a></p><script type="text/javascript"> var _gaq = _gaq || []; _gaq.push(['_setAccount', 'UA-790353-1']); _gaq.push(['_trackPageview']); (function() { var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true; ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s); })(); </script></body></html>
