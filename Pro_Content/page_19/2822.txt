<html><head><meta http-equiv="Pragma" content="no-cache"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="Content-Language" content="en-US"><title>2822 -- TN's Kingdom IV - Collapse</title><link rel=stylesheet href='poj.css' type='text/css'><link rel='shortcut icon' href='poj.ico'><link rel='icon' href='poj.gif' type='image/gif'><script src='poj.js' language='javascript'></script></head><body lang="en-US" leftmargin=5 link=blue alink=blue vlink=blue onkeydown=KeyDown(event)><a name=top></a><TABLE style='BORDER-COLLAPSE: collapse' borderColor=#ffffff width=100% border=1><TBODY><TR><TD align=CENTER colSpan=5><table class=h1 cellpadding=0><tr><td width=25% align=left><img src='images/logo1.jpg' height=100 border=0></td><td colspan=3 bgcolor='#EAEFFD'><table class=h2><tr><td><img border=0 src='images/logo0.gif' width=450 height=90></td><td width=95><img border=0 src='images/logo3.gif' width=95 height=95></td></tr></table></td></tr></table></TD></TR><TR vAlign=top align=CENTER bgColor=#6589d1><TH class=h>Online Judge</TH><TH class=h>Problem Set</TH><TH class=h>Authors</TH><TH class=h>Online Contests</TH><TH class=h>User</TH></TR><TR vAlign=top align=CENTER bgColor='#f1f1fd'><TD class='h' onMouseOver='scbg(this, 1)' onMouseOut='scbg(this, 0)'><A href='bbs'>Web Board</A><BR><A href='./'>Home Page</A><BR><A href='page?id=1000' target=_blank>F.A.Qs</A><BR><a href='chart'>Statistical Charts</a></TD><TD class='h' onMouseOver='scbg(this, 1)' onMouseOut='scbg(this, 0)'><FORM action=gotoproblem method=get><A href='problemlist'>Problems</A><BR><A href='submit'>Submit Problem</A><BR><A href='status'>Online Status</A><BR><font color=blue>Prob.ID:</font><input type=text name=pid size=6><input type=Submit value=Go name=pb1></form></td><TD class='h' onMouseOver='scbg(this,1)' onMouseOut='scbg(this,0)'><form method=GET action=searchuser><a href=register>Register</a><br><a href=modifyuser>Update your info</a><br><a href=userlist>Authors ranklist</a><br><input type=text name=key size=10><input type=Submit value=Search name=B1></form></TD>
<TD class=h onMouseOver='scbg(this,1)' onMouseOut='scbg(this,0)'><font color=#1a5cc8>Current Contest</font><br><a href=pastcontests>Past Contests</a><br><a href=contests>Scheduled Contests</a><br><a href=challenge.html target=_blank><font color=red>Award Contest</font></a></td><TD align=left class=h onMouseOver='scbg(this,1)' onMouseOut='scbg(this,0)'><form method=POST action=login><table><tr><td>User ID:</td><td><input type=text name=user_id1 size=10 style='font-family:monospace'></td></tr><tr><td>Password:</td><td><input type=password name=password1 size=10 style='font-family:monospace'></td></tr></table><input type=Submit value=login name=B1>&nbsp;&nbsp;<a href=register target=_parent>Register</a><input type=hidden name=url value=/problem?id=2822></form></td></TR></TABLE><table border=0 width=100% background=images/table_back.jpg><tr><td>
<div style='position: absolute; right: 10px;'>Language:<select size=1 onChange="window.location.href='problem?id=2822&lang='+this.value+'&change=true'"><option value='default' selected>Default</option></select></div><div class="ptt" lang="en-US">TN's Kingdom IV - Collapse</div>
<div class="plm"><table align="center"><tr><td><b>Time Limit:</b> 8000MS</td><td width="10px"></td><td><b>Memory Limit:</b> 131072K</td></tr><tr><td><b>Total Submissions:</b> 695</td><td width="10px"></td><td><b>Accepted:</b> 163</td></tr><tr><td colspan="3" align="center" style="color:#0ead00"><b>Case Time Limit:</b> 5000MS</td></tr></table></div><p class="pst">Description</p><div class="ptx" lang="en-US">To conclude on TN's life as a short-lived king, I would like to mention the collapse of his regime.<br><P>Frankly speaking, TN was an inexperienced king, which was partly proved by his failed assassination of Dzx and well demonstrated by the defeat in his battle against Ikki's invasion which led to his capture and decapitation.<br><P>According to studies of some historians, ever since he established his reign, TN had paid little attention to the fact that resource storage of the kingdom was imbalanced. Some crucial resources, including ammunition, were concentrated in a western bordering city. When he noticed that, it was all too late. The army of Ikki's kingdom had already launched invasion from the east. Now TN's most important city on the eastern border was under siege.<br><P>Had TN had the expressways in the kingdom well built it would have been enough time to transport everything in need from the west to  the east. But sentences like &ldquo;had it been&rdquo; won't describe history. Poor traffic conditions prevented the city from avoiding falling into Ikki's hands.<br><P>Historians want to know the exact situation TN faced. Yet due to lack of records in written history this is impossible. However, they are able to find out the complete expressway system (there were more expressways built following those first ones) of TN's kingdom where as mentioned before, expressways were straight and didn't cross each other due to technical limitations. Traffic on an expressway could go in either direction. But the total amount of traffic was limited. The historians rate by estimation the capacity of each expressway in real numbers where greater figure denotes greater capacity. They want to know the maximum transport rate from the western city and the eastern city.<br></div><p class="pst">Input</p><div class="ptx" lang="en-US">The input consists of a single test case. The first line of input contains two positive integers <I>N</I> not exceeding 10<SUP>5</SUP> and <I>M</I> which are the numbers of cities and expressways. The follow <I>N</I> + <I>M</I> lines. The first <I>N</I> lines give the coordinates of the cities in the same way as in <I>TN's Kingdom II - Construction</I> assuming the positive direction of the <I>x</I>-axis points east and that of the <I>y</I>-axis points north. Among them are two cities which are uniquely the farthest to the west and to the east. They were the two bordering cities. The last <I>M</I> lines give the details of the expressway system. Each line contains two integers <I>i</I>, <I>j</I> and a real number <I>c</I>, meaning there was an expressway of estimated capacity <I>c</I> connecting the cities that appear in the (<I>i</I> + 1)-th and (<I>j</I> + 1)-th lines of the input.<br></div><p class="pst">Output</p><div class="ptx" lang="en-US">Your solution should output a single line containing the desired maximum transport rate rounded to four decimal places.<br></div><p class="pst">Sample Input</p><pre class="sio">2 1
0 0
1 0
0 1 1
</pre><p class="pst">Sample Output</p><pre class="sio">1.0000
</pre><p class="pst">Hint</p><div class="ptx" lang="en-US">It is recommended that your solution uses standard C I/O interface to achieve better efficiency and avoid unpredictable behaviours.<br>Real numbers that appear in the input may be in scientific form.</div><p class="pst">Source</p><div class="ptx" lang="en-US"><a href="searchproblem?field=source&key=POJ+Monthly--2006.04.28">POJ Monthly--2006.04.28</a>, frkstyc@PKU_RPWT</div></td></tr></table>
<font color=#333399 size=3><p align="center">
[<a href="submit?problem_id=2822">Submit</a>]&nbsp;&nbsp;
 [<a href="javascript:history.go(-1)">Go Back</a>]&nbsp;&nbsp; [<a href=problemstatus?problem_id=2822>Status</a>]&nbsp;&nbsp; 
[<a href="bbs?problem_id=2822">Discuss</a>]
</font></p>
<p><img height=30 src=images/home.gif width=40 border=0><font size=3><a href=.>Home Page</a> </font>&nbsp;&nbsp;<img height=30 src='images/goback.gif' width=40 border=0><font size=3><a href='javascript:history.go(-1)'>Go Back</a>&nbsp;&nbsp;<img height=30 width=40 border=0 src='images/top.gif'><a href=#top>To top</a></font><br><hr><P align=center style='font-family:Arial, Helvetica, sans-serif'>All Rights Reserved 2003-2013 Ying Fuchen,Xu Pengcheng,Xie Di<br>Any problem, Please <a href=mailto:webmaster@poj.org>Contact Administrator</a></p><script type="text/javascript"> var _gaq = _gaq || []; _gaq.push(['_setAccount', 'UA-790353-1']); _gaq.push(['_trackPageview']); (function() { var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true; ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s); })(); </script></body></html>
