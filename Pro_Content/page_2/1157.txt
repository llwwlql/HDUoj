<html><head><meta http-equiv="Pragma" content="no-cache"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="Content-Language" content="en-US"><title>1157 -- LITTLE SHOP OF FLOWERS</title><link rel=stylesheet href='poj.css' type='text/css'><link rel='shortcut icon' href='poj.ico'><link rel='icon' href='poj.gif' type='image/gif'><script src='poj.js' language='javascript'></script></head><body lang="en-US" leftmargin=5 link=blue alink=blue vlink=blue onkeydown=KeyDown(event)><a name=top></a><TABLE style='BORDER-COLLAPSE: collapse' borderColor=#ffffff width=100% border=1><TBODY><TR><TD align=CENTER colSpan=5><table class=h1 cellpadding=0><tr><td width=25% align=left><img src='images/logo1.jpg' height=100 border=0></td><td colspan=3 bgcolor='#EAEFFD'><table class=h2><tr><td><img border=0 src='images/logo0.gif' width=450 height=90></td><td width=95><img border=0 src='images/logo3.gif' width=95 height=95></td></tr></table></td></tr></table></TD></TR><TR vAlign=top align=CENTER bgColor=#6589d1><TH class=h>Online Judge</TH><TH class=h>Problem Set</TH><TH class=h>Authors</TH><TH class=h>Online Contests</TH><TH class=h>User</TH></TR><TR vAlign=top align=CENTER bgColor='#f1f1fd'><TD class='h' onMouseOver='scbg(this, 1)' onMouseOut='scbg(this, 0)'><A href='bbs'>Web Board</A><BR><A href='./'>Home Page</A><BR><A href='page?id=1000' target=_blank>F.A.Qs</A><BR><a href='chart'>Statistical Charts</a></TD><TD class='h' onMouseOver='scbg(this, 1)' onMouseOut='scbg(this, 0)'><FORM action=gotoproblem method=get><A href='problemlist'>Problems</A><BR><A href='submit'>Submit Problem</A><BR><A href='status'>Online Status</A><BR><font color=blue>Prob.ID:</font><input type=text name=pid size=6><input type=Submit value=Go name=pb1></form></td><TD class='h' onMouseOver='scbg(this,1)' onMouseOut='scbg(this,0)'><form method=GET action=searchuser><a href=register>Register</a><br><a href=modifyuser>Update your info</a><br><a href=userlist>Authors ranklist</a><br><input type=text name=key size=10><input type=Submit value=Search name=B1></form></TD>
<TD class=h onMouseOver='scbg(this,1)' onMouseOut='scbg(this,0)'><font color=#1a5cc8>Current Contest</font><br><a href=pastcontests>Past Contests</a><br><a href=contests>Scheduled Contests</a><br><a href=challenge.html target=_blank><font color=red>Award Contest</font></a></td><TD align=left class=h onMouseOver='scbg(this,1)' onMouseOut='scbg(this,0)'><form method=POST action=login><table><tr><td>User ID:</td><td><input type=text name=user_id1 size=10 style='font-family:monospace'></td></tr><tr><td>Password:</td><td><input type=password name=password1 size=10 style='font-family:monospace'></td></tr></table><input type=Submit value=login name=B1>&nbsp;&nbsp;<a href=register target=_parent>Register</a><input type=hidden name=url value=/problem?id=1157></form></td></TR></TABLE><table border=0 width=100% background=images/table_back.jpg><tr><td>
<div style='position: absolute; right: 10px;'>Language:<select size=1 onChange="window.location.href='problem?id=1157&lang='+this.value+'&change=true'"><option value='default' selected>Default</option></select></div><div class="ptt" lang="en-US">LITTLE SHOP OF FLOWERS</div>
<div class="plm"><table align="center"><tr><td><b>Time Limit:</b> 1000MS</td><td width="10px"></td><td><b>Memory Limit:</b> 10000K</td></tr><tr><td><b>Total Submissions:</b> 20838</td><td width="10px"></td><td><b>Accepted:</b> 9631</td></table></div><p class="pst">Description</p><div class="ptx" lang="en-US">You want to arrange the window of your flower shop in a most pleasant way. You have F bunches of flowers, each being of a different kind, and at least as many vases ordered in a row. The vases are glued onto the shelf and are numbered consecutively 1 through V, where V is the number of vases, from left to right so that the vase 1 is the leftmost, and the vase V is the rightmost vase. The bunches are moveable and are uniquely identified by integers between 1 and F. These id-numbers have a significance: They determine the required order of appearance of the flower bunches in the row of vases so that the bunch i must be in a vase to the left of the vase containing bunch j whenever i < j. Suppose, for example, you have bunch of azaleas (id-number=1), a bunch of begonias (id-number=2) and a bunch of carnations (id-number=3). Now, all the bunches must be put into the vases keeping their id-numbers in order. The bunch of azaleas must be in a vase to the left of begonias, and the bunch of begonias must be in a vase to the left of carnations. If there are more vases than bunches of flowers then the excess will be left empty. A vase can hold only one bunch of flowers.<br><br>Each vase has a distinct characteristic (just like flowers do). Hence, putting a bunch of flowers in a vase results in a certain aesthetic value, expressed by an integer. The aesthetic values are presented in a table as shown below. Leaving a vase empty has an aesthetic value of 0.<br><TABLE border=1 cellPadding=7 cellSpacing=0> <TBODY> <TR> <TD colSpan=2 rowSpan=2 vAlign=top>&nbsp;</TD> <TD colSpan=5><B> <P align=center>V A S E S</B></P></TD></TR> <TR> <TD vAlign=top><B> <P align=center>1</B></P></TD> <TD vAlign=top><B> <P align=center>2</B></P></TD> <TD vAlign=top><B> <P align=center>3</B></P></TD> <TD vAlign=top><B> <P align=center>4</B></P></TD> <TD vAlign=top><B> <P align=center>5</B></P></TD></TR> <TR> <TD height=26 rowSpan=3 vAlign=center><B> <P align=justify>Bunches</B></P></TD> <TD height=26 vAlign=center><B> <P align=justify>1 (azaleas)</B></P></TD> <TD height=26 vAlign=center><FONT size=3>7</FONT></TD> <TD height=26 vAlign=center><FONT size=3>23</FONT></TD> <TD height=26 vAlign=center><FONT size=3>-5</FONT></TD> <TD height=26 vAlign=center><FONT size=3>-24</FONT></TD> <TD height=26 vAlign=center><FONT size=3>16</FONT></TD></TR> <TR> <TD height=26 vAlign=center><B> <P align=justify>2 (begonias)</B></P></TD> <TD height=26 vAlign=center><FONT size=3>5</FONT></TD> <TD height=26 vAlign=center><FONT size=3>21</FONT></TD> <TD height=26 vAlign=center><FONT size=3>-4</FONT></TD> <TD height=26 vAlign=center><FONT size=3>10</FONT></TD> <TD height=26 vAlign=center><FONT size=3>23</FONT></TD></TR> <TR> <TD height=26 vAlign=center><B> <P align=justify>3 (carnations)</B></P></TD> <TD height=26 vAlign=center><FONT size=3> <P align=center>-21</FONT></P></TD> <TD height=26 vAlign=center><FONT size=3>5</FONT></TD> <TD height=26 vAlign=center><FONT size=3>-4</FONT></TD> <TD height=26 vAlign=center><FONT size=3>-20</FONT></TD> <TD height=26 vAlign=center><FONT  size=3>20</FONT></TD></TR></TBODY></TABLE><br>According to the table, azaleas, for example, would look great in vase 2, but they would look awful in vase 4.<br><br>To achieve the most pleasant effect you have to maximize the sum of aesthetic values for the arrangement while keeping the required ordering of the flowers. If more than one arrangement has the maximal sum value, any one of them will be acceptable. You have to produce exactly one arrangement.<br></div><p class="pst">Input</p><div class="ptx" lang="en-US"><UL>        <LI>The first line contains two numbers: <I>F</I>, <I>V</I>.         <LI>The following <I>F</I> lines: Each of these lines contains <I>V</I>         integers, so that <I>A<SUB>ij</SUB></I> is given as the         <I>j<SUP>th</SUP></I> number on the (<I>i</I>+1)<SUP><I>st</I></SUP>         line of the input file. </LI></UL><br><ul><br><li>1 <= F <= 100 where F is the number of the bunches of flowers. The bunches are numbered 1 through F. <br><li>F <= V <= 100 where V is the number of vases. <br><li>-50 <= Aij <= 50 where Aij is the aesthetic value obtained by putting the flower bunch i into the vase j. </ul></div><p class="pst">Output</p><div class="ptx" lang="en-US">The first line will contain the sum of aesthetic values for your arrangement. </div><p class="pst">Sample Input</p><pre class="sio">3 5
7 23 -5 -24 16
5 21 -4 10 23
-21 5 -4 -20 20</pre><p class="pst">Sample Output</p><pre class="sio">53</pre><p class="pst">Source</p><div class="ptx" lang="en-US"><a href="searchproblem?field=source&key=IOI+1999">IOI 1999</a></div></td></tr></table>
<font color=#333399 size=3><p align="center">
[<a href="submit?problem_id=1157">Submit</a>]&nbsp;&nbsp;
 [<a href="javascript:history.go(-1)">Go Back</a>]&nbsp;&nbsp; [<a href=problemstatus?problem_id=1157>Status</a>]&nbsp;&nbsp; 
[<a href="bbs?problem_id=1157">Discuss</a>]
</font></p>
<p><img height=30 src=images/home.gif width=40 border=0><font size=3><a href=.>Home Page</a> </font>&nbsp;&nbsp;<img height=30 src='images/goback.gif' width=40 border=0><font size=3><a href='javascript:history.go(-1)'>Go Back</a>&nbsp;&nbsp;<img height=30 width=40 border=0 src='images/top.gif'><a href=#top>To top</a></font><br><hr><P align=center style='font-family:Arial, Helvetica, sans-serif'>All Rights Reserved 2003-2013 Ying Fuchen,Xu Pengcheng,Xie Di<br>Any problem, Please <a href=mailto:webmaster@poj.org>Contact Administrator</a></p><script type="text/javascript"> var _gaq = _gaq || []; _gaq.push(['_setAccount', 'UA-790353-1']); _gaq.push(['_trackPageview']); (function() { var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true; ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s); })(); </script></body></html>
