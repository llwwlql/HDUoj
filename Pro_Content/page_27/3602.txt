<html><head><meta http-equiv="Pragma" content="no-cache"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="Content-Language" content="en-US"><title>3602 -- Typographical Ligatures</title><link rel=stylesheet href='poj.css' type='text/css'><link rel='shortcut icon' href='poj.ico'><link rel='icon' href='poj.gif' type='image/gif'><script src='poj.js' language='javascript'></script></head><body lang="en-US" leftmargin=5 link=blue alink=blue vlink=blue onkeydown=KeyDown(event)><a name=top></a><TABLE style='BORDER-COLLAPSE: collapse' borderColor=#ffffff width=100% border=1><TBODY><TR><TD align=CENTER colSpan=5><table class=h1 cellpadding=0><tr><td width=25% align=left><img src='images/logo1.jpg' height=100 border=0></td><td colspan=3 bgcolor='#EAEFFD'><table class=h2><tr><td><img border=0 src='images/logo0.gif' width=450 height=90></td><td width=95><img border=0 src='images/logo3.gif' width=95 height=95></td></tr></table></td></tr></table></TD></TR><TR vAlign=top align=CENTER bgColor=#6589d1><TH class=h>Online Judge</TH><TH class=h>Problem Set</TH><TH class=h>Authors</TH><TH class=h>Online Contests</TH><TH class=h>User</TH></TR><TR vAlign=top align=CENTER bgColor='#f1f1fd'><TD class='h' onMouseOver='scbg(this, 1)' onMouseOut='scbg(this, 0)'><A href='bbs'>Web Board</A><BR><A href='./'>Home Page</A><BR><A href='page?id=1000' target=_blank>F.A.Qs</A><BR><a href='chart'>Statistical Charts</a></TD><TD class='h' onMouseOver='scbg(this, 1)' onMouseOut='scbg(this, 0)'><FORM action=gotoproblem method=get><A href='problemlist'>Problems</A><BR><A href='submit'>Submit Problem</A><BR><A href='status'>Online Status</A><BR><font color=blue>Prob.ID:</font><input type=text name=pid size=6><input type=Submit value=Go name=pb1></form></td><TD class='h' onMouseOver='scbg(this,1)' onMouseOut='scbg(this,0)'><form method=GET action=searchuser><a href=register>Register</a><br><a href=modifyuser>Update your info</a><br><a href=userlist>Authors ranklist</a><br><input type=text name=key size=10><input type=Submit value=Search name=B1></form></TD>
<TD class=h onMouseOver='scbg(this,1)' onMouseOut='scbg(this,0)'><font color=#1a5cc8>Current Contest</font><br><a href=pastcontests>Past Contests</a><br><a href=contests>Scheduled Contests</a><br><a href=challenge.html target=_blank><font color=red>Award Contest</font></a></td><TD align=left class=h onMouseOver='scbg(this,1)' onMouseOut='scbg(this,0)'><form method=POST action=login><table><tr><td>User ID:</td><td><input type=text name=user_id1 size=10 style='font-family:monospace'></td></tr><tr><td>Password:</td><td><input type=password name=password1 size=10 style='font-family:monospace'></td></tr></table><input type=Submit value=login name=B1>&nbsp;&nbsp;<a href=register target=_parent>Register</a><input type=hidden name=url value=/problem?id=3602></form></td></TR></TABLE><table border=0 width=100% background=images/table_back.jpg><tr><td>
<div style='position: absolute; right: 10px;'>Language:<select size=1 onChange="window.location.href='problem?id=3602&lang='+this.value+'&change=true'"><option value='default' selected>Default</option></select></div><div class="ptt" lang="en-US">Typographical Ligatures</div>
<div class="plm"><table align="center"><tr><td><b>Time Limit:</b> 1000MS</td><td width="10px"></td><td><b>Memory Limit:</b> 131072K</td></tr><tr><td><b>Total Submissions:</b> 1250</td><td width="10px"></td><td><b>Accepted:</b> 544</td></table></div><p class="pst">Description</p><div class="ptx" lang="en-US"><p>Typesetting involves the presentation of textual material in graphic form on paper or some other medium. Close as it is related to our daily life, typesetting exhibits certain complexities which may be unfamiliar and sometimes unimaginable to the layman. The use of typographical ligatures is one such complexity.</p><p>Compare the two appearances of the word “define” in Figure 7. Figure 7(a) illustrates the word typeset with the “fi” ligature as Knuth’s TeX does. The letters “f” and “i” are combined into a single glyph. Figure 7(b) shows the word typeset without the ligature as Microsoft Word does. The letters “f” and “i” remain separate. Other examples include the “ff”, “ffi”, “fl” and “ffl” ligatures, as shown in Figure 8. Perhaps the most notable ligature in active use is the “&amp;” (ampersand), which originated from “et”, the Latin word for “and”.</p><div align="center"><table><tr style="font-family: 'Palatino Linotype'; font-size: 36pt;"><td align="center">deﬁne</td><td style="width: 54pt;"></td><td align="center">def﻿ine</td></tr><tr style="font-size: 10pt;"><td align="center">(a)</td><td style="width: 54pt;"></td><td align="center">(b)</td></tr></table></div><p align="center">Figure 7: The word “define” typeset with and without the “fi” ligature</p><div align="center"><table><tr style="font-family: 'Palatino Linotype'; font-size: 25pt;"><td>eﬀect</td><td style="width: 27pt;"></td><td>oﬃce</td><td style="width: 27pt;"></td><td>reﬂect</td><td style="width: 27pt;"></td><td>waﬄe</td></tr></table></div><p align="center">Figure 8: Examples of the “ff”, “ffi”, “fl” and “ffl” ligatures</p><p>Ligatures are primarily intended to improve spacing between letters. Despite that their impact on legibility is debated and that their use is declining, some people insist that they are an essential part of quality typesetting. In order to typeset ligatures, separate glyphs have to be used since ligatures generally differ from direct combinations of their constituent letters in most cases.</p><p>Given some text, count the number of glyphs that have to be used to typeset it. Only the “ff”, “fi”, “ffi”, “fl”, and “ffl” ligatures are considered. Note that they are case-sensitive. Ligatures are recognized following the leftmost longest rule—find the leftmost match, then the longest match if there are any ties. Each distinct letter, ligature or punctuation mark requires a separate glyph. However, if a letter appears only in ligatures and nowhere else, it shall not be assigned a glyph. Furthermore, left single and double quotes differ from their right counterparts. Spaces do not require a glyph.</p></div><p class="pst">Input</p><div class="ptx" lang="en-US"><p>The input contains a single test case consisting of some text. The text is given on multiple lines not longer than 100 characters each. The text contains only letters (lowercase and uppercase), punctuation marks and spaces. Punctuation marks include periods, commas, semicolons, colons, single and double quotes, exclamation and question marks. Quotes are represented by “<tt>`</tt>” (left single quote), “<tt>&#39;</tt>” (right single quote), “<tt>``</tt>” (left double quote) and “<tt>&#39;&#39;</tt>” (right double quote), respectively. They are also recognized following the leftmost longest rule. The input ends where EOF is met.</p></div><p class="pst">Output</p><div class="ptx" lang="en-US"><p>Print the number of glyphs that have to be used to typeset the given text.</p></div><p class="pst">Sample Input</p><pre class="sio">```define, effect; office.
reflect? waffle!'''</pre><p class="pst">Sample Output</p><pre class="sio">23</pre><p class="pst">Hint</p><div class="ptx" lang="en-US"><p>The text in the sample is typeset as Figure 9. The 23 used glyphs are listed in Figure 10 in the order of their first appearances in Figure 9.</p><div align="center"><table><tr><td style="font-family: 'Palatino Linotype'; font-size: 25pt;">“‘deﬁne, eﬀect; oﬃce.<br>reﬂect? waﬄe!”’</td></tr></table></div><p align="center">Figure 9: Result of typesetting the text in the sample</p><div align="center"><table style="border-collapse: collapse; font-family: 'Palatino Linotype'; font-size: 18pt;"><tr><td style="border: solid black 1pt;" width="12%">“</td><td style="border: solid black 1pt;" width="12%">‘</td><td style="border: solid black 1pt;" width="12%">d</td><td style="border: solid black 1pt;" width="12%">e</td><td style="border: solid black 1pt;" width="12%">ﬁ</td><td style="border: solid black 1pt;" width="12%">n</td><td style="border: solid black 1pt;" width="12%">,</td><td style="border: solid black 1pt;" width="12%">ﬀ</td></tr><tr><td style="border: solid black 1pt;" width="12%">c</td><td style="border: solid black 1pt;" width="12%">t</td><td style="border: solid black 1pt;" width="12%">;</td><td style="border: solid black 1pt;" width="12%">o</td><td style="border: solid black 1pt;" width="12%">ﬃ</td><td style="border: solid black 1pt;" width="12%">.</td><td style="border: solid black 1pt;" width="12%">r</td><td style="border: solid black 1pt;" width="12%">ﬂ</td></tr><tr><td style="border: solid black 1pt;" width="12%">?</td><td style="border: solid black 1pt;" width="12%">w</td><td style="border: solid black 1pt;" width="12%">a</td><td style="border: solid black 1pt;" width="12%">ﬄ</td><td style="border: solid black 1pt;" width="12%">!</td><td style="border: solid black 1pt;" width="12%">”</td><td style="border: solid black 1pt;" width="12%">’</td><td style="border: solid black 1pt;" width="12%"></td></tr></table></div><p align="center">Figure 10: Glyphs appearing in Figure 9</p></div><p class="pst">Source</p><div class="ptx" lang="en-US"><a href="searchproblem?field=source&key=PKU+Campus+2008+%28POJ+Founder+Monthly+Contest+%E2%80%93+2008.05.10%29">PKU Campus 2008 (POJ Founder Monthly Contest – 2008.05.10)</a>, frkstyc</div></td></tr></table>
<font color=#333399 size=3><p align="center">
[<a href="submit?problem_id=3602">Submit</a>]&nbsp;&nbsp;
 [<a href="javascript:history.go(-1)">Go Back</a>]&nbsp;&nbsp; [<a href=problemstatus?problem_id=3602>Status</a>]&nbsp;&nbsp; 
[<a href="bbs?problem_id=3602">Discuss</a>]
</font></p>
<p><img height=30 src=images/home.gif width=40 border=0><font size=3><a href=.>Home Page</a> </font>&nbsp;&nbsp;<img height=30 src='images/goback.gif' width=40 border=0><font size=3><a href='javascript:history.go(-1)'>Go Back</a>&nbsp;&nbsp;<img height=30 width=40 border=0 src='images/top.gif'><a href=#top>To top</a></font><br><hr><P align=center style='font-family:Arial, Helvetica, sans-serif'>All Rights Reserved 2003-2013 Ying Fuchen,Xu Pengcheng,Xie Di<br>Any problem, Please <a href=mailto:webmaster@poj.org>Contact Administrator</a></p><script type="text/javascript"> var _gaq = _gaq || []; _gaq.push(['_setAccount', 'UA-790353-1']); _gaq.push(['_trackPageview']); (function() { var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true; ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s); })(); </script></body></html>
