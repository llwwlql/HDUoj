<html><head><meta http-equiv="Pragma" content="no-cache"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="Content-Language" content="en-US"><title>3223 -- Football Game</title><link rel=stylesheet href='poj.css' type='text/css'><link rel='shortcut icon' href='poj.ico'><link rel='icon' href='poj.gif' type='image/gif'><script src='poj.js' language='javascript'></script></head><body lang="en-US" leftmargin=5 link=blue alink=blue vlink=blue onkeydown=KeyDown(event)><a name=top></a><TABLE style='BORDER-COLLAPSE: collapse' borderColor=#ffffff width=100% border=1><TBODY><TR><TD align=CENTER colSpan=5><table class=h1 cellpadding=0><tr><td width=25% align=left><img src='images/logo1.jpg' height=100 border=0></td><td colspan=3 bgcolor='#EAEFFD'><table class=h2><tr><td><img border=0 src='images/logo0.gif' width=450 height=90></td><td width=95><img border=0 src='images/logo3.gif' width=95 height=95></td></tr></table></td></tr></table></TD></TR><TR vAlign=top align=CENTER bgColor=#6589d1><TH class=h>Online Judge</TH><TH class=h>Problem Set</TH><TH class=h>Authors</TH><TH class=h>Online Contests</TH><TH class=h>User</TH></TR><TR vAlign=top align=CENTER bgColor='#f1f1fd'><TD class='h' onMouseOver='scbg(this, 1)' onMouseOut='scbg(this, 0)'><A href='bbs'>Web Board</A><BR><A href='./'>Home Page</A><BR><A href='page?id=1000' target=_blank>F.A.Qs</A><BR><a href='chart'>Statistical Charts</a></TD><TD class='h' onMouseOver='scbg(this, 1)' onMouseOut='scbg(this, 0)'><FORM action=gotoproblem method=get><A href='problemlist'>Problems</A><BR><A href='submit'>Submit Problem</A><BR><A href='status'>Online Status</A><BR><font color=blue>Prob.ID:</font><input type=text name=pid size=6><input type=Submit value=Go name=pb1></form></td><TD class='h' onMouseOver='scbg(this,1)' onMouseOut='scbg(this,0)'><form method=GET action=searchuser><a href=register>Register</a><br><a href=modifyuser>Update your info</a><br><a href=userlist>Authors ranklist</a><br><input type=text name=key size=10><input type=Submit value=Search name=B1></form></TD>
<TD class=h onMouseOver='scbg(this,1)' onMouseOut='scbg(this,0)'><font color=#1a5cc8>Current Contest</font><br><a href=pastcontests>Past Contests</a><br><a href=contests>Scheduled Contests</a><br><a href=challenge.html target=_blank><font color=red>Award Contest</font></a></td><TD align=left class=h onMouseOver='scbg(this,1)' onMouseOut='scbg(this,0)'><form method=POST action=login><table><tr><td>User ID:</td><td><input type=text name=user_id1 size=10 style='font-family:monospace'></td></tr><tr><td>Password:</td><td><input type=password name=password1 size=10 style='font-family:monospace'></td></tr></table><input type=Submit value=login name=B1>&nbsp;&nbsp;<a href=register target=_parent>Register</a><input type=hidden name=url value=/problem?id=3223></form></td></TR></TABLE><table border=0 width=100% background=images/table_back.jpg><tr><td>
<div style='position: absolute; right: 10px;'>Language:<select size=1 onChange="window.location.href='problem?id=3223&lang='+this.value+'&change=true'"><option value='default' selected>Default</option><option value='zh-CN'>简体中文</option></select></div><div class="ptt" lang="en-US">Football Game</div>
<div class="plm"><table align="center"><tr><td><b>Time Limit:</b> 2000MS</td><td width="10px"></td><td colspan="3"><b>Memory Limit:</b> 131072K</td></tr><tr><td><b>Total Submissions:</b> 750</td><td width="10px"></td><td><b>Accepted:</b> 110</td><td width="10px"></td><td style="font-weight:bold; color:red;">Special Judge</td></tr></table></div><p class="pst">Description</p><div class="ptx" lang="en-US"><span lang="en-us"><p>Football fans from NJU and PKU ACM-ICPC teams are going to have a football match, with frkstyc as the referee due to his incompetence in sports (and Ikki says, “This is the fact.”). But because they are unable to find enough men to build up two 11-player teams for a full match, they have decided on a modified version of penalty shootout!</p><p>In a normal penalty shootout, the ball should always be put on the spot in the area before the taker tries his luck. Yet for these fans, this is far too unchallenging for the goalkeepers among them. Now the penalty takers are allowed more choices of positions for the ball – anywhere on a straight line segment that is chosen in advance.</p><p>Players tend to carefully choose the point to place the ball so that the field angle spanned by the goal with respect to the ball is as large as possible, hoping to have a better chance in hitting the bottom of the net. In real situations, to make the angle really the largest one seems to be impossible, for man’s perception works seemingly better with fuzziness than accuracy. But for you, a contestant in programming, this would not be too difficult for you have the computer before your eyes as an aid, provided that you are given the exact descriptions of the goal and the line segment for placing the ball.</p></span></div><p class="pst">Input</p><div class="ptx" lang="en-US"><script lang="text/javascript">function vec(v, a){var V = document.getElementById(v);var A = document.getElementById(a);	A.style.verticalAlign=V.offsetHeight/2;A.style.marginLeft=-(A.offsetWidth+V.offsetWidth)/2;A.style.marginRight=(V.offsetWidth-A.offsetWidth)/2;}</script><span lang="en-us"><p>The input contains multiple test cases. Each test case consists of a single line with the coordinates of four points <i>A</i>, <i>B</i>, <i>U</i> and <i>V</i> in the form <code>(</code><i>x</i><code>,</code><i>y</i><code>)</code> separated by spaces. The four points do not coincide with each other. <i>A</i> and <i>B</i> describe the goal. The two posts are located on <i>A</i> and <i>B</i>, and when looking along the vector <span id="AB1"><i>AB</i></span><span id="rarr1">→</span><script lang="text/javascript">vec("AB1","rarr1");</script>  while standing on <i>A</i>, one will find the goal facing his right hand side. <i>U</i> and <i>V</i> describe the line segment. When looking along the vector <span id="UV2"><i>UV</i></span><span id="rarr2">→</span><script lang="text/javascript">vec("UV2","rarr2");</script> while standing on <i>U</i>, one will find both <i>A</i> and <i>B</i> on his left hand side. It is possible that a portion of the segment lies off the pitch, where a play is also allowed. It is also possible that a portion of the segment lies behind the goal, where a play, however, is disallowed.</p><p>All coordinates consist of nonnegative integers not exceeding 10,000. End of file (EOF) indicates the end of input.</p></span></div><p class="pst">Output</p><div class="ptx" lang="en-US"><span lang="en-us"><p>For each test case, you have to find a point <i>P</i> on the segment <i>UV</i> from which the goal <i>AB</i> is visible in the front such that the angle ∠<i>APB</i> is maximized. If such <i>P</i> does not exist, the answer is assumed to be 0. Output the angle in degrees accurate to the third digit beyond the decimal point. An error within 0.001&deg; is allowed.</p></span></div><p class="pst">Sample Input</p><pre class="sio">(36,89) (79,97) (11,88) (72,32)</pre><p class="pst">Sample Output</p><pre class="sio">56.167</pre><p class="pst">Hint</p><div class="ptx" lang="en-US"><span lang="en-us"><p>Illustration of the sample test case:</p><div align="center"><img src="images/3223_1.png"></div><p><i>BA</i> is extended to intersect <i>UV</i> at <i>R</i>. When a ball placed somewhere on <i>UR</i>, it lies behind the goal, therefore this is disallowed. Alternatively, it can be placed anywhere on <i>RV</i>. Among all possible positions, <i>P</i> maximizes the angle &ang;<i>APB</i>. The coordinates of <i>P</i> are roughly (42.3679, 59.1950).</p></span></div><p class="pst">Source</p><div class="ptx" lang="en-US"><a href="searchproblem?field=source&key=PKU+Local+2007+%28POJ+Monthly--2007.04.28%29">PKU Local 2007 (POJ Monthly--2007.04.28)</a>, frkstyc, text by Ikki</div></td></tr></table>
<font color=#333399 size=3><p align="center">
[<a href="submit?problem_id=3223">Submit</a>]&nbsp;&nbsp;
 [<a href="javascript:history.go(-1)">Go Back</a>]&nbsp;&nbsp; [<a href=problemstatus?problem_id=3223>Status</a>]&nbsp;&nbsp; 
[<a href="bbs?problem_id=3223">Discuss</a>]
</font></p>
<p><img height=30 src=images/home.gif width=40 border=0><font size=3><a href=.>Home Page</a> </font>&nbsp;&nbsp;<img height=30 src='images/goback.gif' width=40 border=0><font size=3><a href='javascript:history.go(-1)'>Go Back</a>&nbsp;&nbsp;<img height=30 width=40 border=0 src='images/top.gif'><a href=#top>To top</a></font><br><hr><P align=center style='font-family:Arial, Helvetica, sans-serif'>All Rights Reserved 2003-2013 Ying Fuchen,Xu Pengcheng,Xie Di<br>Any problem, Please <a href=mailto:webmaster@poj.org>Contact Administrator</a></p><script type="text/javascript"> var _gaq = _gaq || []; _gaq.push(['_setAccount', 'UA-790353-1']); _gaq.push(['_trackPageview']); (function() { var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true; ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s); })(); </script></body></html>
